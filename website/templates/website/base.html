{% load static %} <!-- Add this line at the very top of the file -->

<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

 
    <meta charset="UTF-8" />
    <title>{% block title %}My Portfolio{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'website/style.css' %}" />
    <style>
  html {
    scroll-behavior: smooth;
  }
</style>
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f9fafb;
    line-height: 1.6;
    transition: background-color 0.3s ease, color 0.3s ease;
  }


.main-container {
  max-width: 1100px;
  margin: 0 auto 50px; /* add top margin to clear fixed navbar */
  padding: 20px;
}


  
  nav {
    position: fixed;
    width: 100%;
    top: 0;
    display: flex;
    justify-content: center;
    gap: 30px;
    padding: 15px 20px;
    background: #333;
    z-index: 999;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  }

   nav a {
    color: #366cff;
    text-decoration: none;
    font-weight: bold;
    font-size: 18px;
    position: relative;
    transition: color 0.3s;
  }

  nav a:hover {
    color: #77cdff;
  }

  nav a.active {
    color: #7c0000;
  }

   nav > div a::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: -5px;
  width: 0;
  height: 2px;
  background-color: #366cff;
  transition: width 0.3s ease-in-out;
}

  nav a:hover::after,
  nav a.active::after {
    width: 100%;
  }

  

section {
  max-width: 100%;
  background: white;
  padding: 60px 40px;
  margin-bottom: 40px;
  border-radius: 10px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

  h1 {
    font-size: 2.2rem;
    margin-bottom: 20px;
    color: #222;
    text-align: center;
    position: relative;
  }

  h1::after {
    content: "";
    display: block;
    width: 60px;
    height: 3px;
    background: #0066ff;
    margin: 10px auto 0;
    border-radius: 2px;
  }

  p {
    color: #444;
    font-size: 1.05rem;
  }

  .project, .education-item {
    border: 1px solid #ddd;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 5px;
    background: #fafafa;
  }

#skills p {
  font-family: inherit;
  font-size: 1.05rem;
  font-weight: inherit;
  color: #444;
  margin: 1em 0;
}


  .skill-item {
  margin-bottom: 15px;
}

  .skill-bar {
  transition: width 1s ease-in-out;
}

.progress-bar-background {
  background: #ddd;
  border-radius: 10px;
  overflow: hidden;
  height: 20px;
  margin-top: 5px;
}

.progress-bar-fill {
  background: #4CAF50;
  height: 100%;
  width: 0;
  transition: width 0.6s ease;
}

.education-item {
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 15px;
  margin-bottom: 20px;
  background: #f4f4f4;
  font-size: 1rem;
  line-height: 1.4;
}



.gallery-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px; /* space between arrows and gallery */
  margin-top: 20px;
  overflow: hidden;
}

.gallery-container {
  display: flex;
  overflow-x: auto;
  scroll-behavior: smooth;
  gap: 4px; /* very small space between images */
}


.gallery-container::-webkit-scrollbar {
  display: none;
}

.gallery-item {
  flex: 0 0 250px;
  border-radius: 10px;
  padding: 0; /* remove extra space around image */
}


.gallery-item img {
  width: 100%;
  height: 160px;
  object-fit: contain;
  border-radius: 12px;
  background: transparent;
  display: block;
}

.gallery-image {
  height: 160px;
  object-fit: contain;
  border-radius: 8px;
  background: transparent;
  display: block;
}





.gallery-item .caption {
  padding: 8px;
  font-size: 14px;
  color: #444;
}

.gallery-arrow {
  font-size: 28px;
  background: none;
  border: none;
  color: #333;
  cursor: pointer;
  padding: 10px;
  z-index: 2;
  transition: color 0.2s;
  user-select: none;
}

.gallery-arrow:hover {
  color: #007bff;
}

.popup-overlay {
  position: fixed;
  display: none;
  z-index: 9999;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.85);
  justify-content: center;
  align-items: center;
}

.popup-img {
  max-width: 90%;
  max-height: 80%;
  border-radius: 10px;
  box-shadow: 0 0 20px rgba(255,255,255,0.2);
}

.close-popup {
  position: absolute;
  top: 30px;
  right: 40px;
  font-size: 40px;
  color: white;
  cursor: pointer;
  z-index: 10000;
}

.footer-icons {
  display: flex;
  justify-content: center;
  gap: 20px;
}

.footer-icon {
  color: #ccc;
  text-decoration: none;
  font-size: 50px; /* make icon bigger */
  position: relative;
  transition: color 0.3s;
}

.footer-icon:hover {
  color: #69c8f7;
}

body.dark-mode .footer-icon {
  color: #ccc;

}

body.dark-mode .footer-icon:hover {
  color: #69c8f7;


}

.footer-icon::after {
  display: none !important;
  content: none !important;
}

footer a::after {
  content: none !important;
  display: none !important;
}

#scrollToTopBtn {
  position: fixed;
  bottom: 30px;
  right: 30px;
  z-index: 1000;
  background-color: #366cff;
  color: white;
  border: none;
  outline: none;
  font-size: 20px;
  padding: 12px 16px;
  border-radius: 50%;
  cursor: pointer;
  display: none; /* Hidden by default */
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
  transition: background-color 0.3s ease;
}

#scrollToTopBtn:hover {
  background-color: #1e4bb8;
}


/* Toggle Position */
#darkModeToggleWrapper {
  position: fixed;
  top: 80px; /* just below navbar */
  right: 30px;
  z-index: 1000;
}

/* Toggle Switch Styling */
.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 26px;
}

.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.slider {
  position: absolute;
  cursor: pointer;
  top: 0; left: 0;
  right: 0; bottom: 0;
  background-color: #ccc;
  transition: 0.4s;
  border-radius: 34px;
}

.slider::before {
  position: absolute;
  content: "";
  height: 20px; width: 20px;
  left: 4px; bottom: 3px;
  background-color: white;
  transition: 0.4s;
  border-radius: 50%;
}

input:checked + .slider {
  background-color: #366cff;
}

input:checked + .slider::before {
  transform: translateX(24px);
}

/* Dark mode styles */
body.dark-mode {
  background-color: #121212;
  color: #e0e0e0;
}
/* NAVBAR IN DARK MODE */
body.dark-mode nav {
  background-color: #1e1e1e !important;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.5);
}

body.dark-mode nav a {
  color: #90caf9 !important;
}

/* SECTION BACKGROUNDS */
body.dark-mode section {
  background-color: #1e1e1e;
  color: #e0e0e0;
  box-shadow: none;
}

/* LINKS */
body.dark-mode a {
  color: #90caf9;
}


/* GALLERY ARROWS */
body.dark-mode .gallery-arrow {
  color: #e0e0e0;
}

body.dark-mode nav a:hover::after {
  background-color: #08b6ff; /* Bright blue on hover */
}


body.dark-mode nav a.active::after {
  background-color: #ff6b6b; /* Soft red for active */
}

/* FOOTER */
body.dark-mode footer {
  background-color: #181818;
  color: #006afe;
}

body.dark-mode .slider {
  background-color: #004887;
}

/* Section titles */
body.dark-mode h1 {
  color: #f0f0f0;
}

/* Navbar profile name and subtitle */
body.dark-mode nav span {
  color: #f0f0f0;
}

/* Navbar links */
body.dark-mode nav a {
  color: #ccc;
}

body.dark-mode nav a:hover {
  color: #0885f2 !important;
}

body.dark-mode nav a.active {
  color: #ff8080 !important;
}

body.dark-mode nav a::after {
  background-color: #888;  /* Default underline color */
}



.profile-name {
  font-weight: bold;
  font-size: 20px;
  color: #333;
}

body.dark-mode .profile-name {
  color: #f0f0f0;
}

body.dark-mode #dark-mode-toggle {
  border-color: #555;
  color: #f0f0f0;
}





.projects-slider-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 15px;
  margin-top: 20px;
}

.projects-slider-container {
  display: flex;
  overflow-x: hidden;
  gap: 20px;
  scroll-behavior: smooth;
  width: calc(300px * 3 + 40px); /* 3 cards + gap */
}

.project-card {
  flex: 0 0 300px;
  border: 1px solid #ccc;
  border-radius: 10px;
  padding: 15px;
  background-color: white;
  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
}

.project-arrow {
  font-size: 28px;
  background: none;
  border: none;
  color: #e0e0e0;
  cursor: pointer;
  padding: 10px;
  user-select: none;
  transition: color 0.2s;
}

.project-arrow:hover {
  color: #007bff;
}

body.dark-mode .project-card {
  background: #353535;
  color: #ddd;
  border-color: #c9c9c9;
}

body.dark-mode .project-card p {
  background: #353535;
  color: #ddd;
  border-color: #c9c9c9;
}

.project-date {
  font-size: 14px;
  color: #666; /* Light mode default */
}

body.dark-mode .project-date {
  color: #aaa; /* Or any bright color for dark mode */
}


/* Light mode (default) */
.section-content {
  color: #111;
}

/* CKEditor content styling for dark mode */
body.dark-mode .ckeditor-content {
  color: #f0f0f0;
}

body.dark-mode .ckeditor-content h1,
body.dark-mode .ckeditor-content h2,
body.dark-mode .ckeditor-content h3,
body.dark-mode .ckeditor-content p,
body.dark-mode .ckeditor-content li,
body.dark-mode .ckeditor-content span {
  color: #f0f0f0 !important;
}

body.dark-mode .ckeditor-content a {
  color: #4fa7ff !important;
}

body.dark-mode .ckeditor-content strong {
  color: #ffffff !important;
}

.ckeditor-content {
  max-width: 900px;
  margin-left: auto;
  margin-right: auto;
  padding: 0 30px;
  margin-bottom: 20px;
}

 a.pdf-button {
    background-color: #ff8800;
    color: rgb(0, 0, 0);
    text-decoration: none;
    padding: 10px 15px;
    border-radius: 5px;
    display: inline-block;
    transition: background-color 0.3s ease;
  }

  a.pdf-button:hover {
    background-color: #cf711b !important;
  }

body.dark-mode .pdf-button {
color: rgb(0, 0, 0);

  }





</style>


</head>
<body>
{% load static %}
{% with profile=profile_info %}
<nav style="
  position: fixed;
  top: 0;
  width: 100%;
  background-color: #fff;
  z-index: 1000;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  padding: 15px 0;
">

  <!-- Centered container inside navbar -->
  <div style="
    max-width: 1100px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 20px;
    gap: 40px;
  ">

    <!-- Left: Profile -->
    <div style="display: flex; align-items: center; gap: 15px;">
      {% if profile.image %}
        <img src="{{ profile.image.url }}" alt="Profile Picture" style="
          height: 70px;
          width: 70px;
          border-radius: 50%;
          object-fit: cover;
          border: 2px solid #366cff;">
      {% endif %}
      <div style="display: flex; flex-direction: column;">
        <span class="profile-name">{{ profile.name }}</span>
        <span style="font-size: 14px; color: gray;">QA Tester & Automation</span>
      </div>
    </div>

    <!-- Right: Navigation Links -->
    <div style="display: flex; gap: 30px;">
  {% for section in sections %}
    <a href="#{{ section.slug }}">{{ section.title }}</a>
  {% endfor %}
</div>
<button id="dark-mode-toggle" class="dark-mode-btn" style="background: none; border: none; cursor: pointer; font-size: 13px; color: inherit;">
  ðŸŒ™ Dark Mode
</button>


  </div>
</nav>
{% endwith %}


  <div class="main-container">
    {% block content %}{% endblock %}
  </div>

<script>
  const navLinks = document.querySelectorAll('nav a');
  const sections = document.querySelectorAll('section');

  // Function to remove active class from all nav links
  function removeActiveClasses() {
    navLinks.forEach(link => link.classList.remove('active'));
  }

  // Function to add active class to the nav link that corresponds to the section in viewport
  function setActiveLink() {
    let index = sections.length;
    while (--index && window.scrollY + 150 < sections[index].offsetTop) {}
    removeActiveClasses();
    if (navLinks[index]) navLinks[index].classList.add('active');
  }

  setActiveLink();
  window.addEventListener('scroll', setActiveLink);

  navLinks.forEach(link => {
    link.addEventListener('click', function () {
      removeActiveClasses();
      this.classList.add('active');
    });
  });
</script>


<script>
  function animateSkillBars() {
    const bars = document.querySelectorAll('.skill-bar');
    bars.forEach(bar => {
      const level = parseInt(bar.getAttribute('data-level'));
      const percentText = bar.parentElement.nextElementSibling; // get the div.right after bar container

      // Animate bar width
      bar.style.width = level + '%';

      // Update the percentage number right next to the bar
      percentText.textContent = level + '%';
    });
  }

  function isElementInViewport(el) {
    const rect = el.getBoundingClientRect();
    return rect.top <= window.innerHeight && rect.bottom >= 0;
  }

  let animationDone = false;

  function checkScrollAndAnimate() {
    const skillsSection = document.querySelector('#skills');
    if (!animationDone && isElementInViewport(skillsSection)) {
      animateSkillBars();
      animationDone = true;
    }
  }

  window.addEventListener('scroll', checkScrollAndAnimate);
  document.addEventListener('DOMContentLoaded', checkScrollAndAnimate);
</script>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('.skill-bar').forEach(bar => {
      const level = bar.dataset.level;
      bar.style.width = `${level}%`;
      const percentDisplay = bar.closest('.skill-bar').parentElement.nextElementSibling;
      if (percentDisplay) {
        percentDisplay.textContent = `${level}%`;
      }
    });
  });
</script>







<footer style="
  background: #333;
  color: #fff;
  padding: 40px 20px;
  text-align: center;
  font-size: 14px;
">
  <div style="max-width: 800px; margin: 0 auto;">
    <div class="footer-icons" style="margin-bottom: 20px;">
      {% for link in footer_links %}
        <a href="{{ link.url }}" target="_blank" class="footer-icon">
          {% if link.icon == 'linkedin' %}
            <i class="fab fa-linkedin"></i>
          {% elif link.icon == 'github' %}
            <i class="fab fa-github"></i>
          {% elif link.icon == 'email' %}
            <i class="fas fa-envelope"></i>
          {% elif link.icon == 'website' %}
            <i class="fas fa-globe"></i>
          {% endif %}
        </a>
      {% endfor %}
    </div>
    <div>&copy; {{ year }} Koren Cohos. All rights reserved.</div>
  </div>
</footer>





<script>
  function scrollGallery(slug, direction) {
  const container = document.getElementById(`gallery-${slug}`);
  const scrollAmount = 250 * direction; // scroll exactly one image width per click
  container.scrollBy({ left: scrollAmount, behavior: 'smooth' });
}
</script>

<script>
function scrollProjects(slug, direction) {
  const container = document.getElementById(`projects-${slug}`);
  const scrollAmount = 300 * direction;
  container.scrollBy({ left: scrollAmount, behavior: 'smooth' });
}
</script>





<!-- Image Popup Modal -->
<div id="image-popup" class="popup-overlay" onclick="closeImagePopup(event)">
  <span class="close-popup" onclick="closeImagePopup(event)">&times;</span>
  <img id="popup-img" class="popup-img" src="" alt="Full Size">
</div>


<script>
  function openImagePopup(img) {
    const popup = document.getElementById('image-popup');
    const popupImg = document.getElementById('popup-img');
    popupImg.src = img.src;
    popup.style.display = 'flex';
  }

  function closeImagePopup(event) {
    const popup = document.getElementById('image-popup');
    if (
      event.target.classList.contains('popup-overlay') ||
      event.target.classList.contains('close-popup')
    ) {
      popup.style.display = 'none';
    }
  }
</script>



<button id="scrollToTopBtn" title="Back to top">
  <i class="fas fa-arrow-up"></i>
</button>

<script>
  const scrollToTopBtn = document.getElementById("scrollToTopBtn");

  window.addEventListener("scroll", () => {
    if (window.scrollY > 300) {
      scrollToTopBtn.style.display = "block";
    } else {
      scrollToTopBtn.style.display = "none";
    }
  });

  scrollToTopBtn.addEventListener("click", () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  });
</script>






<script>
  document.addEventListener("DOMContentLoaded", function () {
    const toggle = document.getElementById("dark-mode-toggle");
    const body = document.body;

    function setDarkModeState(enabled) {
      body.classList.toggle("dark-mode", enabled);
      toggle.innerHTML = enabled ? 'ðŸŒž Click for Light Mode' : 'ðŸŒ™ Click for Dark Mode';
      localStorage.setItem("darkMode", enabled);
    }

    // Load saved preference
    const darkModeEnabled = localStorage.getItem("darkMode") === "true";
    setDarkModeState(darkModeEnabled);

    // Handle click
    toggle.addEventListener("click", function () {
      const isDark = body.classList.contains("dark-mode");
      setDarkModeState(!isDark);
    });
  });
</script>









</body>
</html>
